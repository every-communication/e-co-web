@use "src/styles/constants" as c;
@use "src/styles/mixins" as m;

$LOCAL_GAP: 20px;
$BUTTON_DROP_SHADOW: drop-shadow(0 0 1px rgba(0, 0, 0, 8%)) drop-shadow(0 0 1px rgba(0, 0, 0, 8%))
	drop-shadow(0 1px 2px rgba(0, 0, 0, 12%));

.wrapper {
	position: relative;
	width: 100%;
	background-color: var(--c-label-alternative);

	.localVideo {
		@include m.posCenter;
		width: calc(100% - 80px);
		max-height: calc(100% - 240px);
		object-fit: cover;
		transition: all 0.2s ease-in-out;

		@include m.mobileOnly {
			width: 100%;
			height: 100%;
			max-height: unset;
		}
	}

	.remoteVideo {
		display: none;
	}

	.menu {
		@include m.absolute(auto auto 20px 50%);
		@include m.flex;
		gap: 24px;
		transform: translateX(-50%);

		.endCall {
			@include m.flex;
			width: 80px;
			height: 80px;
			background-color: var(--c-status-negative);
			filter: $BUTTON_DROP_SHADOW;
			border-radius: 50%;
		}

		.enabled {
			@include m.flex;
			width: 60px;
			height: 60px;
			background-color: var(--c-line-normal-strong);
			filter: $BUTTON_DROP_SHADOW;
			border-radius: 50%;
			opacity: var(--c-g-opacity-52);
		}
	}

	&.allParticipated {
		.localVideo {
			@include m.absolute(auto calc(40px + $LOCAL_GAP) calc(120px + $LOCAL_GAP) auto);
			z-index: 2;
			width: 200px;
			height: 200px;
			object-fit: cover;
			transform: none;

			@include m.mobileOnly {
				@include m.absolute($LOCAL_GAP $LOCAL_GAP auto auto);
				width: 120px;
				height: 120px;
			}
		}

		.remoteVideo {
			@include m.posCenter;
			z-index: 1;
			display: block;
			width: calc(100% - 80px);
			height: 100%;
			max-height: calc(100% - 240px);
			object-fit: cover;

			@include m.mobileOnly {
				width: 100%;
				height: 100%;
				max-height: unset;
			}
		}
	}
}
